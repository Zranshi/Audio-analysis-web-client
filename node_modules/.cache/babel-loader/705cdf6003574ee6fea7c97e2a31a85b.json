{"remainingRequest":"/Users/Rs/Documents/code/webstorm_project/analysis_client/node_modules/babel-loader/lib/index.js!/Users/Rs/Documents/code/webstorm_project/analysis_client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Rs/Documents/code/webstorm_project/analysis_client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Rs/Documents/code/webstorm_project/analysis_client/src/views/home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Rs/Documents/code/webstorm_project/analysis_client/src/views/home.vue","mtime":1610903061390},{"path":"/Users/Rs/Documents/code/webstorm_project/analysis_client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Rs/Documents/code/webstorm_project/analysis_client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Rs/Documents/code/webstorm_project/analysis_client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Rs/Documents/code/webstorm_project/analysis_client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgbGluZSBmcm9tICJAL2NvbXBvbmVudHMvbGluZS1ncmFwaCI7IC8vIGltcG9ydCBiYXIgZnJvbSAiQC9jb21wb25lbnRzL2Jhci1ncmFwaCI7CgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOyAvLyAvLyDmiJDlk4HkuK3pnIDopoHliKDpmaTnmoTpg6jliIYKLy8gY29uc3QgbGVuZ3RoID0gMTAwMDsKLy/nlJ/miJDpgJLlop7mlbDnu4QKCmZ1bmN0aW9uIGdlbmVyYXRlQXJyYXkoc3RhcnQsIGVuZCkgewogIHJldHVybiBBcnJheS5mcm9tKG5ldyBBcnJheShlbmQgKyAxKS5rZXlzKCkpLnNsaWNlKHN0YXJ0KTsKfSAvLyAvL+eUn+aIkOmaj+acuuaVsOe7hAovLyBmdW5jdGlvbiByYW5kQXJyYXkobGVuLCBtaW4sIG1heCkgewovLyAgIHJldHVybiBBcnJheS5mcm9tKAovLyAgICAgICB7bGVuZ3RoOiBsZW4sfSwKLy8gICAgICAgKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluCi8vICAgKTsKLy8gfQoKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVXBsb2FkJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy/kvKDpgJJ46L2044CB6KGo5qC85pWw5o2uCiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgeDogW10sCiAgICAgIHdhdmVfZGF0YV9sOiBbXSwKICAgICAgd2F2ZV9kYXRhX3I6IFtdLAogICAgICByYWRpbzogJzEnLAogICAgICBuY2hhbm5lbHM6IDAsCiAgICAgIHNhbXB3aWR0aDogMCwKICAgICAgZnJhbWVyYXRlOiAwLAogICAgICBuZnJhbWVzOiAwCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgImxpbmUtZ3JhcGgiOiBsaW5lIC8vICJiYXItZ3JhcGgiOiBiYXIsCgogIH0sCiAgbWV0aG9kczogewogICAgb3BlbjogZnVuY3Rpb24gb3BlbigpIHsKICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgbWVzc2FnZTogJ3RoaXMgaXMgYSBtZXNzYWdlJywKICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgfSk7CiAgICB9LAogICAgc2hvd19kYXRhOiBmdW5jdGlvbiBzaG93X2RhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9zaG93X2RhdGEvJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpcy5uY2hhbm5lbHMgPSByZXNbJ25jaGFubmVscyddOwogICAgICAgIF90aGlzLnNhbXB3aWR0aCA9IHJlc1snc2FtcHdpZHRoJ107CiAgICAgICAgX3RoaXMuZnJhbWVyYXRlID0gcmVzWydmcmFtZXJhdGUnXTsKICAgICAgICBfdGhpcy5uZnJhbWVzID0gcmVzWyduZnJhbWVzJ107CiAgICAgICAgX3RoaXMud2F2ZV9kYXRhX2wgPSByZXNbJ2RhdGEnXVswXTsKICAgICAgICBfdGhpcy53YXZlX2RhdGFfciA9IHJlc1snZGF0YSddWzFdOwogICAgICAgIF90aGlzLnggPSBnZW5lcmF0ZUFycmF5KDEsIF90aGlzLndhdmVfZGF0YV9sLmxlbmd0aCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0gLy8gYmVmb3JlTW91bnQoKSB7CiAgLy8gICAvL+WcqOatpOWkhOe7meaoquWdkOagh+WSjOihqOagvOaVsOaNrui1i+WAvAogIC8vICAgdGhpcy54ID0gZ2VuZXJhdGVBcnJheSgxLCBsZW5ndGgpCiAgLy8gICB0aGlzLndhdmVfZGF0YV9yID0gcmFuZEFycmF5KGxlbmd0aCwgMCwgMTAwMCkKICAvLyAgIHRoaXMud2F2ZV9kYXRhX2wgPSByYW5kQXJyYXkobGVuZ3RoLCAwLCAxMDAwKQogIC8vIH0KCn07"},{"version":3,"sources":["home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA,OAAA,IAAA,MAAA,yBAAA,C,CACA;;AACA,OAAA,KAAA,MAAA,OAAA,C,CAGA;AACA;AAEA;;AACA,SAAA,aAAA,CAAA,KAAA,EAAA,GAAA,EAAA;AACA,SAAA,KAAA,CAAA,IAAA,CAAA,IAAA,KAAA,CAAA,GAAA,GAAA,CAAA,EAAA,IAAA,EAAA,EAAA,KAAA,CAAA,KAAA,CAAA;AACA,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,CAAA,EAAA,EAHA;AAIA,MAAA,WAAA,EAAA,EAJA;AAKA,MAAA,WAAA,EAAA,EALA;AAMA,MAAA,KAAA,EAAA,GANA;AAOA,MAAA,SAAA,EAAA,CAPA;AAQA,MAAA,SAAA,EAAA,CARA;AASA,MAAA,SAAA,EAAA,CATA;AAUA,MAAA,OAAA,EAAA;AAVA,KAAA;AAYA,GAfA;AAgBA,EAAA,UAAA,EAAA;AACA,kBAAA,IADA,CAEA;;AAFA,GAhBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,WAAA,QAAA,CAAA;AACA,QAAA,OAAA,EAAA,mBADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA,KANA;AAOA,IAAA,SAPA,uBAOA;AAAA;;AACA,MAAA,KAAA,CACA,GADA,CACA,kCADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,YAAA,GAAA,GAAA,QAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,WAAA,CAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,WAAA,CAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,WAAA,CAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,GAAA,CAAA,SAAA,CAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,GAAA,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,GAAA,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AACA,QAAA,KAAA,CAAA,CAAA,GAAA,aAAA,CAAA,CAAA,EAAA,KAAA,CAAA,WAAA,CAAA,MAAA,CAAA;AACA,OAXA,EAYA,KAZA,CAYA,UAAA,KAAA;AAAA,eAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA;AAAA,OAZA;AAaA;AArBA,GApBA,CA2CA;AACA;AACA;AACA;AACA;AACA;;AAhDA,CAAA","sourcesContent":["<template>\n  <div class=\"home\">\n    <el-container>\n      <el-header class=\"el-header\" height=\"10\" style=\"text-align: right; font-size: 20px\">\n        <span>wit音频分析平台</span>\n      </el-header>\n\n      <el-main>\n        <el-row>\n          <el-col :span=\"5\">\n            <template>\n<!--              <el-radio v-model=\"radio\" label=\"1\">波形图</el-radio>-->\n<!--              <el-radio v-model=\"radio\" label=\"2\">频谱图</el-radio>-->\n            </template>\n          </el-col>\n          <el-col :span=\"14\" style=\"display: flex; justify-content: center;\">\n            <el-upload\n                class=\"upload-demo\"\n                drag\n                ref=\"upload\"\n                multiple\n                action=\"http://127.0.0.1:8000/get_wav/\"\n                accept=\".wav\"\n                name=\"file\"\n                :limit=\"1\"\n                :file-list=\"fileList\"\n                :auto-upload=\"true\"\n            >\n              <i class=\"el-icon-upload\"></i>\n              <div class=\"el-upload__text\">\n                将文件拖到此处，或<em>点击上传</em>\n              </div>\n              <div class=\"el-upload__tip\" slot=\"tip\">\n                只能上传 1 个wav文件,若要重新上传,请删除当前文件或刷新页面！\n              </div>\n            </el-upload>\n          </el-col>\n          <el-col :span=\"5\">\n            <div>\n              <el-button type=\"primary\" round @click=\"show_data\">上传文件<i class=\"el-icon-upload el-icon--right\"></i>\n              </el-button>\n            </div>\n            <br><br>\n            <div>\n              <el-card class=\"card\">\n                <b style=\"display: flex; justify-content: center\">wav文件信息</b>\n                <p>声道数量 : {{ nchannels }}</p>\n                <p>量化位数 : {{ sampwidth }}</p>\n                <p>采样频率 : {{ framerate }}</p>\n                <p>采样点数 : {{ nframes }}</p>\n              </el-card>\n            </div>\n          </el-col>\n        </el-row>\n        <br/>\n        <div>\n          <el-card class=\"box-card\">\n            <!--波形图，横轴为时间，纵轴为幅度-->\n            <line-graph title=\"音频分析波形图\" :data_l=\"wave_data_l\" :data_r=\"wave_data_r\" :x=\"x\" v-if=\"radio === '1'\">\n            </line-graph>\n            <!--频谱图，横轴为频率，纵轴为幅度-->\n            <!--            <bar-graph title=\"音频分析频谱图\" :data=\"data\" :x=\"x\" v-if=\"radio === '2'\"></bar-graph>-->\n          </el-card>\n        </div>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport line from \"@/components/line-graph\";\n// import bar from \"@/components/bar-graph\";\nimport axios from 'axios'\n\n\n// // 成品中需要删除的部分\n// const length = 1000;\n\n//生成递增数组\nfunction generateArray(start, end) {\n  return Array.from(new Array(end + 1).keys()).slice(start);\n}\n\n// //生成随机数组\n// function randArray(len, min, max) {\n//   return Array.from(\n//       {length: len,},\n//       () => Math.floor(Math.random() * (max - min)) + min\n//   );\n// }\n\n\nexport default {\n  name: 'Upload',\n  data() {\n    return {\n      //传递x轴、表格数据\n      fileList: [],\n      x: [],\n      wave_data_l: [],\n      wave_data_r: [],\n      radio: '1',\n      nchannels: 0,\n      sampwidth: 0,\n      framerate: 0,\n      nframes: 0,\n    };\n  },\n  components: {\n    \"line-graph\": line,\n    // \"bar-graph\": bar,\n  },\n  methods: {\n    open() {\n      this.$message({\n        message: 'this is a message',\n        type: 'success',\n      })\n    },\n    show_data() {\n      axios\n          .get('http://127.0.0.1:8000/show_data/')\n          .then(response => {\n            const res = response.data;\n            this.nchannels = res['nchannels'];\n            this.sampwidth = res['sampwidth'];\n            this.framerate = res['framerate'];\n            this.nframes = res['nframes'];\n            this.wave_data_l = res['data'][0];\n            this.wave_data_r = res['data'][1];\n            this.x = generateArray(1,this.wave_data_l.length);\n          })\n          .catch(error => console.log(error));\n    }\n  },\n  // beforeMount() {\n  //   //在此处给横坐标和表格数据赋值\n  //   this.x = generateArray(1, length)\n  //   this.wave_data_r = randArray(length, 0, 1000)\n  //   this.wave_data_l = randArray(length, 0, 1000)\n  // }\n};\n</script>\n\n<style scoped>\n.home {\n  height: 100vh;\n  display: flex;\n}\n\n.el-header {\n  background-color: #b3c0d1;\n  color: #333333;\n  line-height: 50px;\n}\n\n.card {\n  width: 100%;\n}\n</style>\n"],"sourceRoot":"src/views"}]}